{"id":2518,"date":"2020-09-21T12:28:32","date_gmt":"2020-09-21T12:28:32","guid":{"rendered":"https:\/\/50F6AF64-506F-4245-B023-0560C88DF88D"},"modified":"2024-10-29T11:10:17","modified_gmt":"2024-10-29T11:10:17","slug":"amm-types-differentiations","status":"publish","type":"post","link":"https:\/\/blaize.tech\/blog\/amm-types-differentiations\/","title":{"rendered":"AMM Types &#038; Differentiations"},"content":{"rendered":"\n<p>Securing liquidity or performing assets\u2019 exchange are today\u2019s essentials for crypto holders. Yet, it has been a while since the first DEXs were introduced and the modern crypto market has more to offer. In this article we are going to analyze a few different types of AMM and its variations.&nbsp;<\/p>\n\n\n\n<p>AMMs are automated actors which are built to control and establish price within a certain algorithm. AMMs are driven by smart contracts and therefore enable to fulfill fast and secured exchanges without traditional order book usage. As a financial instrument, the automated market maker has been known before, but the creation of a Constant Function model allowed for its further application to digital assets.&nbsp;<\/p>\n\n\n\n<p>In terms of CFMM (Constant Function Market Maker) a constant function refers to the meaning, that no matter what happens to equation variables, the product of those stays constant or simply the same. There are basically three types of CFMM applied successfully in the DEX environment until now.&nbsp;<\/p>\n\n\n\n<h5 class=\"wp-block-heading\">Classic Uniswap &#8211; Constant Product Market Maker&nbsp;<\/h5>\n\n\n\n<p>CPMM (Constant Product Market Maker) is represented by a classic function:&nbsp;<\/p>\n\n\n\n<p class=\"has-text-align-center\">x*y = c<\/p>\n\n\n\n<p>where X and Y are reserves of a certain (chosen) asset in the pool, and C is an unchangeable constant. The function establishes the price of a chosen token, meaning if the supply of token X increases, the supply of token Y decreases in order to maintain the constant value C. Classic versions of Uniswap (V1) and Bancor (V1) have successfully implemented this model.&nbsp;<\/p>\n\n\n\n<p>Earlier version of Uniswap allowed pooling just against ETH, renewed V2 enables to put two different ERC-20 tokens, but the basic structure remains the same. The CPMM model, applied here, suffers from several disadvantages which can lead to considerable loss in some cases. One of the main problems is a huge volatility and its direct dependence from arbitrageurs intervention. Therefore, there is a risk to pay more with Uniswap then with traditional centralized exchange. Read more <a href=\"https:\/\/blaize.tech\/article-type\/how-amm-works-technology-basics\/\">about this in our previous articles.<\/a><\/p>\n\n\n\n<p>Second big problem with CPMM pools is the possibility of impermanent loss or gain (but in practice loss has the highest probability). Such happens due to both, high volatility and non-adjustable constant price. Impermanent loss occurs in case the price in AMM models differs in any direction within a certain pool. In such a case, the bigger difference is, the greater impermanent loss occurs. In the best-case scenario, there are arbitrageurs who might get in and balance the pool (by selling one or another asset to the pool). Yet in practice, we often experience that impermanent loss becomes permanent due to the curve function. In case of larger asset supply, the price of a second asset goes down drastically so there is a truly low possibility of new trades within this certain pool.<\/p>\n\n\n\n<p class=\"has-light-gray-color has-text-color\"><em>The issue of impermanent loss and its possible mitigations will be further discussed in the next article.&nbsp;<\/em><\/p>\n\n\n\n<p>CPMM can be both very risky for one and extremely profitable for another. From a wide perspective, if we talk about money making, choosing a \u201csmaller\u201d pool seems more reasonable because the incentive mechanism in Uniswap (V1) works better when at the bottom of the curve.&nbsp;<\/p>\n\n\n\n<p>One of the variations of constant product equation is a Constant Sum Market Maker (CSMM)&nbsp; formula, which is represented as follows:&nbsp;<\/p>\n\n\n\n<p class=\"has-text-align-center\">x+y = c&nbsp;<\/p>\n\n\n\n<p>and represents just a simple sum of two variables. Accordingly, variables can change multiple times, but the sum has to remain constant. Yet, this approach is not profitable in terms of any DEX, because it cannot provide an infinite liquidity, and there would always be a situation when one of the pool reserves will be emptied. It can be better shown on the graph below.&nbsp;Read: <strong><a href=\"https:\/\/blaize.tech\/article-type\/how-to-prevent-liquidity-vampire-attacks-in-defi\/\">How to Prevent Vampire Attacks in DeFi<\/a><\/strong><\/p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-full\"><img loading=\"lazy\" decoding=\"async\" width=\"1400\" height=\"787\" src=\"https:\/\/blaize.tech\/wp-content\/uploads\/2022\/06\/graph-1.png\" alt=\"\" class=\"wp-image-7556\"\/><\/figure><\/div>\n\n\n\n<h5 class=\"wp-block-heading\">Stable Curve.fi &#8211; Hybrid Constant Function Market Maker&nbsp;<\/h5>\n\n\n\n<p>Previously discussed Uniswap deals with unstable and highly volatile variables so automatically rebalancing CPMM formula works perfectly in this case. In terms of <a href=\"https:\/\/blaize.tech\/article-type\/understanding-stablecoin\/\">stablecoins<\/a>, when there is no such problem as volatility, providing liquidity to the traditional CPMM would not bring much profits basically due to a huge slippage in the Uniswap example.&nbsp;<\/p>\n\n\n\n<p>In order to reduce the slippage for traders Curve.fi uses hybrid CFMM which combines CPMM and CSMM (x+y=c) and is represented as follows:&nbsp;<\/p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-full\"><img loading=\"lazy\" decoding=\"async\" width=\"297\" height=\"65\" src=\"https:\/\/blaize.tech\/wp-content\/uploads\/2022\/06\/formula.png\" alt=\"\" class=\"wp-image-7553\"\/><\/figure><\/div>\n\n\n\n<p>where x is the asset reserve, n is the amount of asset, D is the invariant which reflects the reserve\u2019s value, A is an \u201camplification coefficient\u201d. While x is dimensionless, A is an adjustable constant which influences the asset price range. Therefore, A indicator grows along with the volatility of a certain asset.<\/p>\n\n\n\n<p>As it is shown on the graph above, there is a part of the curve which remains almost unchanged. The hybrid model allows it to switch between two functions: a CSMM at the flat part and CPMM in the rest. The function changes if there is a price fluctuation and the pool becomes imbalanced.&nbsp;<\/p>\n\n\n\n<h5 class=\"wp-block-heading\">Revolutionary Balancer &#8211; Constant Mean Market Maker&nbsp;&nbsp;<\/h5>\n\n\n\n<p>The one distinctive and revolutionary feature CMMM has brought is the ability to provide several assets to one pool. Unlike previous CPMM, this type of AMM relies on constant mean of each asset, or other words on its weight. The equation for liquidity pool with three locked assets would look as follows:&nbsp;<\/p>\n\n\n\n<p class=\"has-text-align-center\">(x*y*z)^(1\/3) = c<\/p>\n\n\n\n<p>where <em>x,y,z<\/em> are chosen tokens, <em>c <\/em>is a constant product of them. Firstly, this approach was introduced by Balancer Protocol and made a real breakthrough because of the ability to swipe several tokens within one pool.<\/p>\n\n\n\n<p>Due to CMMM type, Balancer users are able to create what is called a \u201ccustom pool\u201d. Thanks to the constant relation to the tokens\u2019 weight, not product, there is the possibility of creating a pool with an unequal percentage of provided assets, for instance 30% DAI vs 70% ETH (or 60\/30\/10, 82\/18 etc). In the case of CMMM, such asymmetry does not mean an automatic decrease of one asset price and increase of another, as it is in CPMM model. The token value is equal as long as the weighted reserves remain constant. This determination is applicable to all Balancer pools, meaning with three and more assets in it, where token weights are distributed accordingly.&nbsp;<\/p>\n\n\n\n<p>The possibility of providing three and more assets to the pool creates a more stable and pleasant environment for traders. Hence, the issue with impermanent loss is less possible in case of three or more tokens placement. More then two variables in the equation ensure higher stability and make lower influence on the curve.\u00a0<\/p>\n\n\n\n<p>When it comes to creating custom pools, <strong><a href=\"https:\/\/blaize.tech\/token-development-services\/\">token development services<\/a><\/strong> play an important role in ensuring that the tokens in the pool are secure and operate as intended. Contact us to learn more.<\/p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-full\"><img loading=\"lazy\" decoding=\"async\" width=\"1074\" height=\"1080\" src=\"https:\/\/blaize.tech\/wp-content\/uploads\/2022\/06\/balancer.png\" alt=\"\" class=\"wp-image-7554\" srcset=\"https:\/\/blaize.tech\/wp-content\/uploads\/2022\/06\/balancer.png 1074w, https:\/\/blaize.tech\/wp-content\/uploads\/2022\/06\/balancer-24x24.png 24w, https:\/\/blaize.tech\/wp-content\/uploads\/2022\/06\/balancer-48x48.png 48w, https:\/\/blaize.tech\/wp-content\/uploads\/2022\/06\/balancer-96x96.png 96w, https:\/\/blaize.tech\/wp-content\/uploads\/2022\/06\/balancer-150x150.png 150w\" sizes=\"(max-width: 1074px) 100vw, 1074px\" \/><\/figure><\/div>\n\n\n\n<h5 class=\"wp-block-heading\">Innovative Perpetual Protocol &#8211; Virtual Constant Product Market Maker&nbsp;<\/h5>\n\n\n\n<p>The main idea behind this protocol is to enable profitable deals for derivatives such as perpetual contracts (which are roughly futures with no expiry date). Adapted virtual AMM model used in this case just for price establishment. The real assets are stored in the smart contract vault which is placed outside the AMM models. More information about how the vAMM works can be found <a href=\"https:\/\/medium.com\/@perpetualprotocol\/a-deep-dive-into-our-virtual-amm-vamm-40345c522eeb\"><em>here<\/em><\/a>.&nbsp;<\/p>\n\n\n\n<p>Perpetual Protocol uses classic CPMM function:<\/p>\n\n\n\n<p class=\"has-text-align-center\">x*y = c<\/p>\n\n\n\n<p>with an additional variable which reflects the spread and is taken while supplying to the pool. The equation looks as follows:<\/p>\n\n\n\n<p class=\"has-text-align-center\">(x-z)*(y+(a-spread- fee)) = c<\/p>\n\n\n\n<p>where <em>x,y<\/em> are reserves of certain assets, <em>a <\/em>is the number of assets the user wants to supply to <em>y<\/em>, <em>z <\/em>is the amount on which <em>x <\/em>decreases if provide <em>a <\/em>number of tokens. Spread rate is shown in percentage and is established by governance of the protocol.&nbsp;<\/p>\n\n\n\n<p>The spread variable was added in order to compensate for possible loss from AMM and make the market independant from other changes. The spread amount here works as a reserve and is locked in the protocol Insurance fund. It is activated in case of AMM loss in order to cover damages.&nbsp;<\/p>\n\n\n\n<p>AMM models are used as a price establisher and money is secured into the smart contract, the curve cannot really influence the collateralized assets. Therefore, Perpetual Protocol eliminates impermanent loss possibility for its users. Another advantage of the model is that there is no real need in liquidity providers. Unlike traditional CPMM where pool\u2019s liquidity come from LP, in vAMM traders provide money to the vault and thereby fill the pool by themselves.<\/p>\n\n\n\n<h5 class=\"wp-block-heading\">The future of AMM<\/h5>\n\n\n\n<p>The idea of decentralized finance and direct transactions seemed just amazing a few years ago and remain so today. The AMM model has experienced a huge revolution through its near three years in crypto finance due to the increase of usage and new pricing mechanisms creation. One of the important concerns regarding earlier versions is that the amount LPs get should always remain sufficient in order to incentivize them to stay in or supply more liquidity. Therefore, one of the notable changements was switching from total protocol governance (in Uniswap v1) to introducing the ability of changing and establishing transaction fees to protocol users (Balancer).&nbsp;<\/p>\n\n\n\n<p>As it is seen in the case of Perpetual Protocol, Balancer has not reached the limit in AMM developing and new, hybrid models are here to come. The interest in crypto investments grows exponentially, therefore we should expect other platforms enabling <a href=\"https:\/\/blaize.tech\/article-type\/overview\/top-notch-defi-derivatives-you-should-know-about\/\">derivatives for crypto DeFi<\/a>, so Opyn or Perpetual may expect some competitors soon. Moreover, growing usage and participation in AMM based protocols increased scientific interest in this topic and led to a number of research and a vast set of new possibilities described. This generally contributes to broad understanding of the mechanism and gives one a guidance on how to develop a better CFMM for a certain asset type or volatility resistance.&nbsp;<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Securing liquidity or performing assets\u2019 exchange are today\u2019s essentials for crypto holders. Yet, it has<a href=\"https:\/\/blaize.tech\/blog\/amm-types-differentiations\/\" class=\"more-link\"><strong> &#8230; Read More<\/strong><\/a><\/p>\n","protected":false},"author":342,"featured_media":2522,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"inline_featured_image":false,"footnotes":""},"categories":[285,452,288,278],"tags":[306,305],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v21.9.1 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>AMM Types &amp; Differentiations Examples [+Use Cases]<\/title>\n<meta name=\"description\" content=\"It has been a while since the first DEXs were introduced and in this article we are going to analyze a few different types of AMM.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/blaize.tech\/article-type\/amm-types-differentiations\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"AMM Types &amp; Differentiations Examples [+Use Cases]\" \/>\n<meta property=\"og:description\" content=\"It has been a while since the first DEXs were introduced and in this article we are going to analyze a few different types of AMM.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/blaize.tech\/article-type\/amm-types-differentiations\/\" \/>\n<meta property=\"og:site_name\" content=\"Blaize\" \/>\n<meta property=\"article:published_time\" content=\"2020-09-21T12:28:32+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2024-10-29T11:10:17+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/blaize.tech\/wp-content\/uploads\/2020\/09\/amm-types.png\" \/>\n\t<meta property=\"og:image:width\" content=\"1200\" \/>\n\t<meta property=\"og:image:height\" content=\"630\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/png\" \/>\n<meta name=\"author\" content=\"Sergey Onyshchenko\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@S_Onishchenko\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Sergey Onyshchenko\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"8 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/blaize.tech\/blog\/amm-types-differentiations\/\",\"url\":\"https:\/\/blaize.tech\/article-type\/amm-types-differentiations\/\",\"name\":\"AMM Types & Differentiations Examples [+Use Cases]\",\"isPartOf\":{\"@id\":\"https:\/\/blaize.tech\/#website\"},\"datePublished\":\"2020-09-21T12:28:32+00:00\",\"dateModified\":\"2024-10-29T11:10:17+00:00\",\"author\":{\"@id\":\"https:\/\/blaize.tech\/#\/schema\/person\/e98fbc01607fcb2fafa9bd7068749670\"},\"description\":\"It has been a while since the first DEXs were introduced and in this article we are going to analyze a few different types of AMM.\",\"breadcrumb\":{\"@id\":\"https:\/\/blaize.tech\/article-type\/amm-types-differentiations\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/blaize.tech\/article-type\/amm-types-differentiations\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/blaize.tech\/article-type\/amm-types-differentiations\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/blaize.tech\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"AMM Types &#038; Differentiations\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/blaize.tech\/#website\",\"url\":\"https:\/\/blaize.tech\/\",\"name\":\"Blaize\",\"description\":\"Know the rules, create new ones\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/blaize.tech\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/blaize.tech\/#\/schema\/person\/e98fbc01607fcb2fafa9bd7068749670\",\"name\":\"Sergey Onyshchenko\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/blaize.tech\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/blaize.tech\/wp-content\/uploads\/2020\/04\/sergey.png\",\"contentUrl\":\"https:\/\/blaize.tech\/wp-content\/uploads\/2020\/04\/sergey.png\",\"caption\":\"Sergey Onyshchenko\"},\"sameAs\":[\"https:\/\/www.linkedin.com\/in\/sergeyonishenko\/\",\"https:\/\/twitter.com\/S_Onishchenko\"]}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"AMM Types & Differentiations Examples [+Use Cases]","description":"It has been a while since the first DEXs were introduced and in this article we are going to analyze a few different types of AMM.","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/blaize.tech\/article-type\/amm-types-differentiations\/","og_locale":"en_US","og_type":"article","og_title":"AMM Types & Differentiations Examples [+Use Cases]","og_description":"It has been a while since the first DEXs were introduced and in this article we are going to analyze a few different types of AMM.","og_url":"https:\/\/blaize.tech\/article-type\/amm-types-differentiations\/","og_site_name":"Blaize","article_published_time":"2020-09-21T12:28:32+00:00","article_modified_time":"2024-10-29T11:10:17+00:00","og_image":[{"width":1200,"height":630,"url":"https:\/\/blaize.tech\/wp-content\/uploads\/2020\/09\/amm-types.png","type":"image\/png"}],"author":"Sergey Onyshchenko","twitter_card":"summary_large_image","twitter_creator":"@S_Onishchenko","twitter_misc":{"Written by":"Sergey Onyshchenko","Est. reading time":"8 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/blaize.tech\/blog\/amm-types-differentiations\/","url":"https:\/\/blaize.tech\/article-type\/amm-types-differentiations\/","name":"AMM Types & Differentiations Examples [+Use Cases]","isPartOf":{"@id":"https:\/\/blaize.tech\/#website"},"datePublished":"2020-09-21T12:28:32+00:00","dateModified":"2024-10-29T11:10:17+00:00","author":{"@id":"https:\/\/blaize.tech\/#\/schema\/person\/e98fbc01607fcb2fafa9bd7068749670"},"description":"It has been a while since the first DEXs were introduced and in this article we are going to analyze a few different types of AMM.","breadcrumb":{"@id":"https:\/\/blaize.tech\/article-type\/amm-types-differentiations\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/blaize.tech\/article-type\/amm-types-differentiations\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/blaize.tech\/article-type\/amm-types-differentiations\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/blaize.tech\/"},{"@type":"ListItem","position":2,"name":"AMM Types &#038; Differentiations"}]},{"@type":"WebSite","@id":"https:\/\/blaize.tech\/#website","url":"https:\/\/blaize.tech\/","name":"Blaize","description":"Know the rules, create new ones","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/blaize.tech\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"Person","@id":"https:\/\/blaize.tech\/#\/schema\/person\/e98fbc01607fcb2fafa9bd7068749670","name":"Sergey Onyshchenko","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/blaize.tech\/#\/schema\/person\/image\/","url":"https:\/\/blaize.tech\/wp-content\/uploads\/2020\/04\/sergey.png","contentUrl":"https:\/\/blaize.tech\/wp-content\/uploads\/2020\/04\/sergey.png","caption":"Sergey Onyshchenko"},"sameAs":["https:\/\/www.linkedin.com\/in\/sergeyonishenko\/","https:\/\/twitter.com\/S_Onishchenko"]}]}},"amp_enabled":true,"_links":{"self":[{"href":"https:\/\/blaize.tech\/wp-json\/wp\/v2\/posts\/2518"}],"collection":[{"href":"https:\/\/blaize.tech\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/blaize.tech\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/blaize.tech\/wp-json\/wp\/v2\/users\/342"}],"replies":[{"embeddable":true,"href":"https:\/\/blaize.tech\/wp-json\/wp\/v2\/comments?post=2518"}],"version-history":[{"count":13,"href":"https:\/\/blaize.tech\/wp-json\/wp\/v2\/posts\/2518\/revisions"}],"predecessor-version":[{"id":29090,"href":"https:\/\/blaize.tech\/wp-json\/wp\/v2\/posts\/2518\/revisions\/29090"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/blaize.tech\/wp-json\/wp\/v2\/media\/2522"}],"wp:attachment":[{"href":"https:\/\/blaize.tech\/wp-json\/wp\/v2\/media?parent=2518"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/blaize.tech\/wp-json\/wp\/v2\/categories?post=2518"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/blaize.tech\/wp-json\/wp\/v2\/tags?post=2518"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}